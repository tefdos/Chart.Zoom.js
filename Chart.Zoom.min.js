/*!
 * Chart.Zoom.js
 * http://chartjs.org/
 * Version: 0.2.0
 *
 * Copyright 2016 Evert Timberg
 * Released under the MIT license
 * https://github.com/chartjs/Chart.Zoom.js/blob/master/LICENSE.md
 */
!function t(e,o,i){function n(r,s){if(!o[r]){if(!e[r]){var m="function"==typeof require&&require;if(!s&&m)return m(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var c=o[r]={exports:{}};e[r][0].call(c.exports,function(t){var o=e[r][1][t];return n(o?o:t)},c,c.exports,t,e,o,i)}return o[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)n(i[r]);return n}({1:[function(t,e,o){function i(t,e,o,i){var n,a;n=setInterval(function(){a=t(e,o,i),z.update(0),a&&clearInterval(n)},10)}function n(t,e){return void 0===t||"string"==typeof t&&t.indexOf(e)!==-1}function a(t,e,o){return t.options.ticks.min<P.min&&(t.options.ticks.min+=1),t.options.ticks.max>P.max&&(t.options.ticks.max-=1),t.options.ticks.min>P.min&&(t.options.ticks.min-=1),t.options.ticks.max<P.max&&(t.options.ticks.max+=1),!(t.options.ticks.min!==P.min||t.options.ticks.max!==P.max)}function r(t,e,o){var i,n,a=t.options;t.isHorizontal()?(i=t.right-t.left,n=(o.x-t.left)/i):(i=t.bottom-t.top,n=(o.y-t.top)/i);var r=1-n,s=i*(e-1),m=s*n,l=s*r;a.time.min=t.getValueForPixel(t.getPixelForValue(t.firstTick)+m),a.time.max=t.getValueForPixel(t.getPixelForValue(t.lastTick)-l)}function s(t,e,o){var i=t.max-t.min,n=i*(e-1),a=t.isHorizontal()?o.x:o.y,r=(t.getValueForPixel(a)-t.min)/i,s=1-r,m=n*r,l=n*s;t.options.ticks.min=t.min+m,t.options.ticks.max=t.max-l}function m(t,e,o){var n=F[t.options.type];n&&i(n,t,e,o)}function l(t,e,o){var i=t.chartArea;o||(o={x:(i.left+i.right)/2,y:(i.top+i.bottom)/2});var a=t.options.zoom;if(a&&g.getValueOrDefault(a.enabled,y.zoom.enabled)){var r=g.getValueOrDefault(t.options.zoom.mode,y.zoom.mode);g.each(t.scales,function(t,i){t.isHorizontal()&&n(r,"x")?m(t,e,o):n(r,"y")&&m(t,e,o)}),t.update(0)}}function c(t,e){var o=t.options,i=e-o.ticks.max;i>0?o.ticks.max<z.options.pan.maxLimit&&(o.ticks.min+=i,o.ticks.max+=i):o.ticks.min>z.options.pan.minLimit&&(o.ticks.min-=Math.abs(i),o.ticks.max-=Math.abs(i)),z.options.pan.callback({min:o.ticks.min,max:o.ticks.max},i)}function u(t,e){var o=t.options;o.time.min=t.getValueForPixel(t.getPixelForValue(t.firstTick)-e),o.time.max=t.getValueForPixel(t.getPixelForValue(t.lastTick)-e)}function p(t,e){var o=t.options.ticks,i=t.start,n=t.end;o.reverse?(o.max=t.getValueForPixel(t.getPixelForValue(i)-e),o.min=t.getValueForPixel(t.getPixelForValue(n)-e)):(o.min=t.getValueForPixel(t.getPixelForValue(i)-e),o.max=t.getValueForPixel(t.getPixelForValue(n)-e))}function f(t,e){var o=k[t.options.type];o&&o(t,e)}function x(t,e,o){var i=t.options.pan;if(i&&g.getValueOrDefault(i.enabled,y.pan.enabled)){var a=g.getValueOrDefault(t.options.pan.mode,y.pan.mode);g.each(t.scales,function(t,i){t.isHorizontal()&&n(a,"x")&&0!==e?f(t,e):!t.isHorizontal()&&n(a,"y")&&0!==o&&f(t,o)}),t.update(0)}}function d(t){var e=t.scales;for(var o in e){var i=e[o];if(!i.isHorizontal())return i}}var v="function"==typeof v?v:window.Hammer,h="function"==typeof h?h:window.Chart,g=h.helpers,b=h.Zoom=h.Zoom||{},F=b.zoomFunctions=b.zoomFunctions||{},k=b.panFunctions=b.panFunctions||{};Object.defineProperty(Object.prototype,"swatch",{enumerable:!1,configurable:!0,writable:!1,value:function(t,e){var o=this[t],i=o,n=function(){return i},a=function(n){return o=i,i=e.call(this,t,o,n)};delete this[t]&&Object.defineProperty(this,t,{get:n,set:a,enumerable:!0,configurable:!0})}}),Object.defineProperty(Object.prototype,"sunwatch",{enumerable:!1,configurable:!0,writable:!1,value:function(t){var e=this[t];delete this[t],this[t]=e}});var y=b.defaults={pan:{enabled:!0,mode:"xy",threshold:10,minLimit:null,maxLimit:null},zoom:{enabled:!0,mode:"xy",minLimit:null,maxLimit:null}},z={},P={min:0,max:0,isZoomed:!1};b.zoomFunctions.category=a,b.zoomFunctions.time=r,b.zoomFunctions.linear=s,b.zoomFunctions.logarithmic=s,b.panFunctions.category=c,b.panFunctions.time=u,b.panFunctions.linear=p,b.panFunctions.logarithmic=p;var V={afterInit:function(t){g.each(t.scales,function(t){t.originalOptions=JSON.parse(JSON.stringify(t.options))}),t.resetZoom=function(){g.each(t.scales,function(t,e){var o=t.options.time,i=t.options.ticks;o&&(delete o.min,delete o.max),i&&(delete i.min,delete i.max),t.options=g.configMerge(t.options,t.originalOptions)}),g.each(t.data.datasets,function(t,e){t._meta=null}),t.update()}},beforeInit:function(t){var e=t.chart.ctx.canvas,o=t.options,i=g.getValueOrDefault(o.pan?o.pan.threshold:void 0,b.defaults.pan.threshold);if(z=t,o.hasOwnProperty("zoom")&&o.zoom.swatch("isZoomed",function(e,i,n){var a=d(t),r=1.1;P.isZoomed=n,n?(P.min=o.zoom.minLimit,P.max=o.zoom.maxLimit):(r=.9,P.min=o.zoom.defaultMinLimit,P.max=o.zoom.defaultMaxLimit),l(t,r,{x:o.zoom.centerPoint,y:(a.bottom-a.top)/2})}),v){var n=new v.Manager(e);n.add(new v.Pan({threshold:i})),o.pan.swatch("delta",function(e,o,i){x(t,i,null)}),t._mc=n}},beforeDatasetsDraw:function(t){var e=t.chart.ctx,o=t.chartArea;if(e.save(),e.beginPath(),t._dragZoomEnd){var i=d(t),n=t._dragZoomStart,a=t._dragZoomEnd,r=Math.min(n.x,a.x),s=Math.max(n.x,a.x),m=s-r;e.fillStyle="rgba(225,225,225,0.3)",e.lineWidth=5,e.fillRect(r,i.top,m,i.bottom-i.top)}e.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),e.clip()},afterDatasetsDraw:function(t){t.chart.ctx.restore()},destroy:function(t){var e=t.chart.ctx.canvas;e.removeEventListener("wheel",t._wheelHandler);var o=t._mc;o&&(o.remove("pinchstart"),o.remove("pinch"),o.remove("pinchend"),o.remove("panstart"),o.remove("pan"),o.remove("panend"))}};h.pluginService.register(V)},{}]},{},[1]);